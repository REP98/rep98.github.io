:root {
    --color-primary-dark: #1a1a1a;   /* Negro de fondo en Light Mode, texto en Dark Mode */
    --color-primary-light: #FAFAFA;  /* Blanco de fondo en Dark Mode, texto en Light Mode */

    --color-rep-blue: #3949AB;     /* Azul (R) - Sobre Mí / Contacto (si revisado) */
    --color-rep-yellow: #FFC107;   /* Amarillo (E) - Contacto */
    --color-rep-green: #43A047;    /* Verde (P) - Servicios */
    --color-rep-red: #e53935;      /* Rojo (98) - Portafolio */

    --color-section-about: var(--color-rep-blue);
    --color-section-services: var(--color-rep-green);
    --color-section-portfolio: var(--color-rep-red);
    --color-section-contact: var(--color-rep-yellow); /* Actualizado a amarillo */
    --color-section-secondary: #9E9E9E; /* Gris azulado para nodos secundarios */

    --logo-fill-light-mode: var(--color-primary-dark);
    --logo-fill-dark-mode: var(--color-primary-light);
}
/* Normalize.css */

:where(html) {
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  text-size-adjust: 100%; /* 2 */
}

:where(h1) {
  font-size: 2em;
  margin-block-end: 0.67em;
  margin-block-start: 0.67em;
}

:where(dl, ol, ul) :where(dl, ol, ul) {
  margin-block-end: 0;
  margin-block-start: 0;
}

:where(hr) {
  box-sizing: content-box; /* 1 */
  color: inherit; /* 2 */
  height: 0; /* 1 */
}


:where(abbr[title]) {
  text-decoration: underline;
  text-decoration: underline dotted;
}

:where(b, strong) {
  font-weight: bolder;
}

:where(code, kbd, pre, samp) {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}

:where(small) {
  font-size: 80%;
}

:where(table) {
  border-color: currentColor; /* 1 */
  text-indent: 0; /* 2 */
}

:where(button, input, select) {
  margin: 0;
}

:where(button) {
  text-transform: none;
}

:where(button, input:is([type="button" i], [type="reset" i], [type="submit" i])) {
  -webkit-appearance: button;
}

:where(progress) {
  vertical-align: baseline;
}

:where(select) {
  text-transform: none;
}

:where(textarea) {
  margin: 0;
}

:where(input[type="search" i]) {
  -webkit-appearance: textfield; /* 1 */
  outline-offset: -2px; /* 2 */
}

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

::-webkit-input-placeholder {
  color: inherit;
  opacity: 0.54;
}

::-webkit-search-decoration {
  -webkit-appearance: none;
}


::-webkit-file-upload-button {
  -webkit-appearance: button; /* 1 */
  font: inherit; /* 2 */
}

:where(button, input:is([type="button" i], [type="color" i], [type="reset" i], [type="submit" i]))::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

:where(button, input:is([type="button" i], [type="color" i], [type="reset" i], [type="submit" i]))::-moz-focusring {
  outline: 1px dotted ButtonText;
}

:where(:-moz-ui-invalid) {
  box-shadow: none;
}

:where(dialog) {
  background-color: white;
  border: solid;
  color: black;
  height: -moz-fit-content;
  height: fit-content;
  left: 0;
  margin: auto;
  padding: 1em;
  position: absolute;
  right: 0;
  width: -moz-fit-content;
  width: fit-content;
}

:where(dialog:not([open])) {
  display: none !important;
}


:where(summary) {
  display: list-item;
}



/* Configuración inicial para el modo claro por defecto */
body {
    background-color: var(--color-primary-light);
    color: var(--color-primary-dark);
    font-family: 'Montserrat', sans-serif; /* Fuente por defecto para el cuerpo */
    margin: 0;
    overflow: hidden; /* Ocultar scroll por defecto para el efecto del diagrama */
    height: 100dvh;
    width: 100dvw;
}

/* Tipografías específicas */
.inconsolata-bold {
    font-family: 'Inconsolata', monospace;
    font-weight: 700; /* Asumiendo bold en Inconsolata */
}

h1, h2, h3, h4, h5, h6, .raleway-header {
    font-family: 'Raleway', sans-serif; /* Para títulos y encabezados */
    font-weight: 700;
}

/* Main Header (SVG Diagrama) */
.main-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 10;
    display: flex; /* Para centrar el diagrama de Mermaid */
    justify-content: center;
    align-items: center;
    background-color: var(--color-primary-dark);
    opacity: 0.8;
    background-image: radial-gradient(#e7e8ec 1px, var(--color-primary-dark) 1px);
    background-size: 20px 20px;
}
#mermaid-diagram-container {
    display: block;
    margin: auto;
    width: 100%;
    height: 100%;
    font-family: 'Inconsolata', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
}

.mermaid svg {
    background: transparent;
    margin: auto;
}
#mermaid-diagram-container .node {
    cursor: pointer;
}

.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon { /* Añadidos polygon por si los usas */
    fill: transparent !important; /* Color base para los nodos */
    stroke: var(--color-rep-yellow) !important; /* Borde para los nodos */
    stroke-width: 1.5px !important;
    transition: fill 0.3s ease, stroke 0.3s ease;
    filter: drop-shadow(0 0 5px rgba(255, 193, 7, 0.4)); /* Sombra para un efecto de brillo */
}

.mermaid .node .nodeLabel {
    fill: var(--color-primary-light); /* Texto claro */
    font-family: 'Inconsolata', monospace;
    font-size: 0.85rem !important; /* Ajusta este valor para la legibilidad. ¡important para sobrescribir mermaid*/
    font-weight: bold;
    transition: fill 0.3s ease;
}


.mermaid .edge path {
    stroke: var(--color-rep-green); /* Color verde para las líneas */
    stroke-width: 2px;
    transition: stroke 0.3s ease, stroke-width 0.3s ease;
    filter: drop-shadow(0 0 2px rgba(67, 160, 71, 0.5)); /* Sombra suave para las líneas */
}
.mermaid .edge .arrowheadPath {
    fill: var(--color-rep-green); /* Color para la punta de la flecha */
    transition: fill 0.3s ease;
}

.mermaid .node:hover rect,
.mermaid .node:hover circle,
.mermaid .node:hover ellipse,
.mermaid .node:hover polygon {
    fill: var(--color-section-secondary) !important;
    stroke: var(--color-primary-light); /* Borde blanco */
    filter: drop-shadow(0 0 8px rgba(229, 57, 53, 0.8)); /* Glow más intenso */
}

.mermaid .node:hover .nodeLabel {
    fill: var(--color-primary-dark) !important;
    color: var(--color-primary-dark) !important;
}
.mermaid .edge:hover path,
.mermaid .edge:hover .arrowheadPath {
    stroke: var(--color-rep-red); /* Línea también cambia a rojo */
    fill: var(--color-rep-red);
    stroke-width: 3px;
    filter: drop-shadow(0 0 4px rgba(229, 57, 53, 0.8));
}

.mermaid .node[data-id="G"]:hover polygon
{
    fill: #F4511E !important;
}

.mermaid .node[data-id="A"]:hover circle,
.mermaid .node[data-id="B"]:hover rect
{
    fill: var(--color-primary-dark) !important;
}

.mermaid .node[data-id="C"]:hover polygon,
.mermaid .node[data-id="C1"]:hover rect,
.mermaid .node[data-id="C2"]:hover rect
{
    fill: var(--color-section-about) !important;
}

.mermaid .node[data-id="C"]:hover .nodeLabel,
.mermaid .node[data-id="C1"]:hover .nodeLabel,
.mermaid .node[data-id="C2"]:hover .nodeLabel
{
    fill: var(--color-primary-light) !important;
    color: var(--color-primary-light) !important;
}

.mermaid .node[data-id="D"]:hover polygon,
.mermaid .node[data-id="D1"]:hover rect,
.mermaid .node[data-id="D2"]:hover rect,
.mermaid .node[data-id="D3"]:hover rect,
.mermaid .node[data-id="D4"]:hover rect,
.mermaid .node[data-id="D5"]:hover rect,
.mermaid .node[data-id="D6"]:hover rect,
.mermaid .node[data-id="D7"]:hover rect
{
    fill: var(--color-section-services) !important;
}

.mermaid .node[data-id="E"]:hover polygon{
    fill: var(--color-section-portfolio) !important;
}

.mermaid .node[data-id="F"]:hover polygon,
.mermaid .node[data-id="F1"]:hover rect,
.mermaid .node[data-id="F2"]:hover rect
{
    fill: var(--color-section-contact) !important;
}

.mermaid .node[data-id="D"]:hover .nodeLabel,
.mermaid .node[data-id="E"]:hover .nodeLabel,
.mermaid .node[data-id="F"]:hover .nodeLabel
{
    fill: var(--color-primary-dark) !important;
    color: var(--color-primary-dark) !important;
}

.custom-dialog {
    border: none; /* Elimina el borde por defecto */
    padding: 0;
    background-color: var(--color-primary-light); /* Fondo claro para el contenido */
    color: var(--color-primary-dark);
    width: 80vw; /* Ancho ajustable */
    max-width: 800px; /* Ancho máximo */
    height: 80vh; /* Alto ajustable */
    max-height: 600px; /* Alto máximo */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    border-radius: 8px; /* Bordes redondeados */
    overflow: hidden; /* Oculta el contenido que se desborda para el scroll interno */
    display: flex; /* Usar flexbox para el diseño interno */
    flex-direction: column;
}

.custom-dialog::backdrop {
    background-color: rgba(0, 0, 0, 0.7); /* Fondo oscuro semitransparente detrás del diálogo */
    backdrop-filter: blur(5px); /* Efecto de desenfoque */
}

.dialog-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--color-primary-dark); /* Color de fondo oscuro */
    color: var(--color-primary-light); /* Texto claro */
    flex-shrink: 0; /* No se encoge */
}

.dialog-header h2 {
    margin: 0;
    font-size: 1.5em;
    color: inherit; /* Hereda el color del header */
}

.dialog-logo {
    display: inline-block; 
    width: 25px; /* Tamaño del logo */
    height: 25px;
    background-color: var(--logo-color-dialog-header); /* Color del logo dentro del header */
    /* Incrusta tu SVG Mono.svg como una máscara */
    -webkit-mask: url('data:image/svg+xml;utf8,<svg viewBox="0 0 291.67836 332.78272" xmlns="http://www.w3.org/2000/svg"><path d="m 102.3969,-122.95507 v 2.94632 l -5.8712,-2.33842 v 2.83522 l 2.9789,0.39036 0.0223,1.86949 -3.00123,-0.61188 0.15069,2.82032 4.14586,1.58538 0.0451,2.57904 v 2.94632 h -8.9294 v -14.47822 l 0.0278,-10.33108 z" fill="currentColor"/><path d="m -260.8907,-197.62226 -0.0278,-10.33108 8.9294,2.1711 v 0 h -5.24515 v 2.83522 l 2.9789,0.39036 0.0223,1.86949 -3.00123,-0.61188 0.15069,2.82032 4.14586,1.58538 0.0451,2.57904 z" fill="currentColor"/><path d="m 271.17179,121.92887 c -1.18916,0 -2.30837,-0.22151 -3.35764,-0.66453 -1.02594,-0.44302 -1.9353,-1.11921 -2.72808,-2.02857 -0.79277,-0.90936 -1.42233,-2.06355 -1.88867,-3.46257 -0.44302,-1.39901 -0.66453,-3.06617 -0.66453,-5.00148 0,-1.70213 0.16322,-3.18276 0.48965,-4.44187 0.34976,-1.28243 0.8161,-2.35501 1.39902,-3.21774 0.58293,-0.88605 1.24746,-1.58556 1.9936,-2.09853 0.74614,-0.53629 1.52726,-0.92101 2.34335,-1.154184 0.81609,-0.256486 1.63219,-0.384729 2.44828,-0.384729 1.63219,0 3.01954,0.384731 4.16207,1.154193 1.16585,0.74614 0,0 0,0 v 0 0 0 c 0.0435,0.0274 -0.59461,3.35763 -0.59461,3.35763 v 0 c -0.86377,-0.431 -0.75651,-0.40483 -1.64385,-0.77358 -0.58116,-0.24152 -1.3825,-0.40094 -1.98874,-0.40094 -0.74614,0 -1.23335,0 -1.9285,0.0203 -0.65287,0.34975 -1.22414,0.87438 -1.71379,1.57389 -0.48966,0.69951 -0.87439,1.57389 -1.15419,2.62315 -0.27981,1.02595 -0.41971,2.21511 -0.41971,3.56749 0,1.30575 0.12824,2.48326 0.38473,3.53252 0.27981,1.02595 0.65288,1.91199 1.11921,2.65813 0.48966,0.72283 1.04927,1.28243 1.67882,1.67882 0.65287,0.37307 1.35238,0.5596 2.09853,0.5596 0.58292,0 2.37666,-0.002 2.86632,-0.1653 0.48965,-0.16322 8.65858,-0.76642 9.07828,-1.13949 0.4197,-0.39639 -0.32644,0.53629 0,0 v 0 c -0.76946,1.28243 -6.45037,2.92155 -7.52295,3.50447 -1.12813,0.26275 -2.98766,0.70328 -4.45663,0.70328 z" fill="currentColor"/></svg>');
    mask: url('data:image/svg+xml;utf8,<svg viewBox="0 0 291.67836 332.78272" xmlns="http://www.w3.org/2000/svg"><path d="m 102.3969,-122.95507 v 2.94632 l -5.8712,-2.33842 v 2.83522 l 2.9789,0.39036 0.0223,1.86949 -3.00123,-0.61188 0.15069,2.82032 4.14586,1.58538 0.0451,2.57904 v 2.94632 h -8.9294 v -14.47822 l 0.0278,-10.33108 z" fill="currentColor"/><path d="m -260.8907,-197.62226 -0.0278,-10.33108 8.9294,2.1711 v 0 h -5.24515 v 2.83522 l 2.9789,0.39036 0.0223,1.86949 -3.00123,-0.61188 0.15069,2.82032 4.14586,1.58538 0.0451,2.57904 z" fill="currentColor"/><path d="m 271.17179,121.92887 c -1.18916,0 -2.30837,-0.22151 -3.35764,-0.66453 -1.02594,-0.44302 -1.9353,-1.11921 -2.72808,-2.02857 -0.79277,-0.90936 -1.42233,-2.06355 -1.88867,-3.46257 -0.44302,-1.39901 -0.66453,-3.06617 -0.66453,-5.00148 0,-1.70213 0.16322,-3.18276 0.48965,-4.44187 0.34976,-1.28243 0.8161,-2.35501 1.39902,-3.21774 0.58293,-0.88605 1.24746,-1.58556 1.9936,-2.09853 0.74614,-0.53629 1.52726,-0.92101 2.34335,-1.154184 0.81609,-0.256486 1.63219,-0.384729 2.44828,-0.384729 1.63219,0 3.01954,0.384731 4.16207,1.154193 1.16585,0.74614 0,0 0,0 v 0 0 0 c 0.0435,0.0274 -0.59461,3.35763 -0.59461,3.35763 v 0 c -0.86377,-0.431 -0.75651,-0.40483 -1.64385,-0.77358 -0.58116,-0.24152 -1.3825,-0.40094 -1.98874,-0.40094 -0.74614,0 -1.23335,0 -1.9285,0.0203 -0.65287,0.34975 -1.22414,0.87438 -1.71379,1.57389 -0.48966,0.69951 -0.87439,1.57389 -1.15419,2.62315 -0.27981,1.02595 -0.41971,2.21511 -0.41971,3.56749 0,1.30575 0.12824,2.48326 0.38473,3.53252 0.27981,1.02595 0.65288,1.91199 1.11921,2.65813 0.48966,0.72283 1.04927,1.28243 1.67882,1.67882 0.65287,0.37307 1.35238,0.5596 2.09853,0.5596 0.58292,0 2.37666,-0.002 2.86632,-0.1653 0.48965,-0.16322 8.65858,-0.76642 9.07828,-1.13949 0.4197,-0.39639 -0.32644,0.53629 0,0 v 0 c -0.76946,1.28243 -6.45037,2.92155 -7.52295,3.50447 -1.12813,0.26275 -2.98766,0.70328 -4.45663,0.70328 z" fill="currentColor"/></svg>');
}

/* Colores de Header de Diálogos */
.dialog-header.color-blue { background-color: var(--color-section-about); }
.dialog-header.color-green { background-color: var(--color-section-services); }
.dialog-header.color-red { background-color: var(--color-section-portfolio); }
.dialog-header.color-yellow { background-color: var(--color-section-contact); }
.dialog-header.color-secondary { background-color: var(--color-section-secondary); }

.dialog-close-btn {
    background: none;
    border: none;
    color: inherit; 
    font-size: 1.2em;
    cursor: pointer;
    padding: 5px;
}

.dialog-content {
    flex-grow: 1; 
    padding: 15px;
    overflow-y: auto; /* Permite scroll si el contenido es largo */
    color: var(--color-primary-dark); /* Texto oscuro en fondo claro */
}

/* Estilos específicos para los sub-diálogos (opcional, pueden ser más pequeños o posicionados diferente) */
.sub-dialog {
    width: 60vw;
    max-width: 600px;
    height: 60vh;
    max-height: 400px;
    /* Puedes ajustar z-index si necesitas que aparezcan sobre otros diálogos */
    z-index: 1000; 
}

/* Footer */
.main-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100vw;
    background-color: var(--color-primary-dark); 
    color: var(--color-primary-light); 
    padding: 10px 20px;
    font-size: 0.8em;
    text-align: center;
    z-index: 15; 
}

.footer-nav a {
    color: var(--color-primary-light);
    text-decoration: none;
    margin: 0 10px;
}

.footer-nav a:hover {
    text-decoration: underline;
}

/* Modo Oscuro (Se activará con JS) */
body.dark-mode {
    background-color: var(--color-primary-dark);
    color: var(--color-primary-light);
}

body.dark-mode .center-circle,
body.dark-mode .node-path,
body.dark-mode .node-shape {
    stroke: var(--color-primary-light);
}

body.dark-mode #mono-logo path {
    fill: var(--logo-fill-dark-mode); /* El logo cambia a color claro en modo oscuro */
}

body.dark-mode #rep98-text,
body.dark-mode #slogan-text {
    fill: var(--color-primary-light);
}

/* El texto de los nodos en modo oscuro debe ser oscuro si el fondo del nodo es claro (amarillo) */
body.dark-mode .section-node.color-yellow:hover .node-text {
    fill: var(--color-primary-dark); /* Texto oscuro para contraste en amarillo brillante */
}

body.dark-mode .node-text {
    fill: var(--color-primary-light); /* Por defecto, texto claro sobre nodo oscuro */
}

body.dark-mode .macro-card {
    background-color: var(--color-primary-dark);
    border-color: var(--color-primary-light);
}

body.dark-mode .macro-card-header {
    background-color: var(--color-primary-light); 
    color: var(--color-primary-dark);
}

body.dark-mode .macro-card-content {
    color: var(--color-primary-light);
}

body.dark-mode .main-footer {
    background-color: var(--color-primary-light);
    color: var(--color-primary-dark);
}

body.dark-mode .footer-nav a {
    color: var(--color-primary-dark);
}

body.dark-mode .macro-card-logo {
    background-color: var(--color-primary-dark); /* Fondo del logo en barra de tarjeta oscura */
}